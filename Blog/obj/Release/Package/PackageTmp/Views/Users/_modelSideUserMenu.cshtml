@model string
@{
    string userId = String.IsNullOrEmpty(Bankiru.Models.Security.SessionPersister.UserEmail) ? String.Empty :
        Bankiru.Models.Security.SessionPersister.UserId.ToString();
}
@if (!String.IsNullOrEmpty(Bankiru.Models.Security.SessionPersister.UserEmail))
{
<section class="user-menu">
    <h3>Личный кабинет</h3>
    <nav>
        <ul>
            @if(Model.Equals("profile"))
            {
                <li class = "current">@Html.RouteLink("Профиль", "user_profile", new { user_id = userId, action = "Index" }, new { title = "Профиль" })</li>
            }
            else
            {
                <li>@Html.RouteLink("Профиль", "user_profile", new { user_id = userId, action = "Index" }, new { title = "Профиль" })</li>
            }
            @if (Model.Equals("club"))
            {
                <li class = "current">@Html.RouteLink("Подписка в клубе", "user_profile", new { user_id = userId, action = "Club" }, new { title = "Подписка в клубе" })</li>
            }
            else
            {
                <li>@Html.RouteLink("Подписка в клубе", "user_profile", new { user_id = userId, action = "Club" }, new { title = "Подписка в клубе" })</li>
            }
            @if(Model.Equals("forecasts"))
            {
                <li class = "current">@Html.RouteLink("Мои прогнозы", "user_archive", new { user_id = userId }, new { title = "Мои прогнозы" })</li>
            }
            else
            {
                <li>@Html.RouteLink("Мои прогнозы", "user_archive", new { user_id = userId }, new { title = "Мои прогнозы" })</li>
            }
            @*@if(Model.Equals("archive"))
            {
                <li class = "current">@Html.RouteLink("Архив прогнозов", "user_archive", new { user_id = userId, action = "Archive" }, new { title = "Архив прогнозов" })</li>
            }
            else
            {
                <li>@Html.RouteLink("Архив прогнозов", "user_archive", new { user_id = userId, action = "Archive" }, new { title = "Архив прогнозов" })</li>
            }            *@
        </ul>
    </nav>
</section>
}
@*@using Bankiru.Models.ViewModels
@model VM_Menu
<section class="user-menu">
    <h3>@Model.Title</h3>
    <nav>
        <ul>
            @if (Model.Items != null && Model.Items.Count > 0)
            {
                foreach (VM_MenuItem item in Model.Items)
                {                
                    if (item.IsCurrent)
                    {
                        <li class = "current"><a href="@item.Alias" title="">@item.Title</a></li>
                    }
                    else
                    {
                        <li><a href="@item.Alias" title="">@item.Title</a></li>
                    }                
                }
            }
        </ul>
    </nav>
</section>*@